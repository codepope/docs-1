---
title: Configuring Commit Scopes
navTitle: Configuring
---

## Configuration

You configure commit scopes using an SQL function just like other administration
operations in PGD.

For example, you might define a basic commit scope that does Group Commit on a majority
of nodes in the example_group PGD group:

```sql
SELECT bdr.add_commit_scope(
  commit_scope_name := 'example_scope',
  origin_node_group := 'example_group',
  rule := 'ANY MAJORITY (example_group) GROUP COMMIT',
  wait_for_ready := true
);
```

You can then use the commit scope either by setting the configuration variable (GUC)
`bdr.commit_scope` either per transaction or globally to that commit scope:

```sql
BEGIN;
SET LOCAL bdr.commit_scope = 'example_scope';
...
COMMIT;
```

You can also set the default commit scope for a given PGD group:

```sql
SELECT bdr.alter_node_group_option(
  node_group_name := 'example_group',
  config_key := 'default_commit_scope',
  config_value := 'example_scope'
);
```

The `default_commit_scope` is checked in the group tree that the given origin
node belongs to from bottom to top. The `default_commit_scope` can't be set to
the special value `local`, which means there's no way for the commit scope to use
the `bdr.commit_scope` configuration parameter.

For full details of the commit scope language with all the options described,
see [Commit scopes](commit-scopes).
