---
title: Viewing PGD topology
---

TODO: Include details of equivelant pgd cli commands


## Listing PGD groups

The following simple query lists all the PGD node groups of which the current
node is a member. It currently returns only one row from
[`bdr.local_node_summary`](/pgd/latest/reference/catalogs-visible#bdrlocal_node_summary).

```sql
SELECT node_group_name
FROM bdr.local_node_summary;
```

You can display the configuration of each node group using a more
complex query:

```sql
SELECT g.node_group_name
, ns.pub_repsets
, ns.sub_repsets
, g.node_group_default_repset     AS default_repset
, node_group_check_constraints    AS check_constraints
FROM bdr.local_node_summary ns
JOIN bdr.node_group g USING (node_group_name);
```

## Listing nodes in a PGD group

You can extract the list of all nodes in a given node group (such as `mygroup`)
from the [`bdr.node_summary`](/pgd/latest/reference/catalogs-visible#bdrnode_summary)` view as shown in the following
example:

```sql
SELECT node_name         AS name
, node_seq_id            AS ord
, peer_state_name        AS current_state
, peer_target_state_name AS target_state
, interface_connstr      AS dsn
FROM bdr.node_summary
WHERE node_group_name = 'mygroup';
```

The read-only state of a node, as shown in the
`current_state` or in the `target_state` query columns, is indicated
as `STANDBY`.
